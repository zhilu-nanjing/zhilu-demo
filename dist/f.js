!function(r){var e={};function t(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return r[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=r,t.c=e,t.d=function(r,e,n){t.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:n})},t.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,e){if(1&e&&(r=t(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var a in r)t.d(n,a,function(e){return r[e]}.bind(null,a));return n},t.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(e,"a",e),e},t.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},t.p="",t(t.s=6)}({22:function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.str2Re=function(r){return new RegExp(r,"g")},e.calendarPattern=e.datePattern2=e.datePattern=e.letterOperatorWithDollorPrex=e.letterOperatorWithDollorEnd=e.letterAndLetterOperator=e.letterOperatorWithDollor=e.letterOperatorIgnoreBracket=e.letterOperator=e.blankOperator=e.logicOperator=void 0;e.logicOperator="([(-\\/,+*，=^&])";e.blankOperator="(^\\s*)|(\\s*$)";e.letterOperator="^[A-Z]+\\d+$";e.letterOperatorIgnoreBracket="^[A-Z]+\\d+$";e.letterOperatorWithDollor="^\\$[A-Z]+\\$\\d+$";e.letterAndLetterOperator="^[A-Za-z]+\\d+:[A-Za-z]+\\d+$";e.letterOperatorWithDollorEnd="^[A-Z]+\\$\\d+$";e.letterOperatorWithDollorPrex="^\\$[A-Z]+\\d+$";e.datePattern=["^(\\d{4})[-/](\\d{1,2})[-/](\\d{1,2})$","^(\\d{4})年(\\d{1,2})月(\\d{1,2})日$"];e.datePattern2="((^((1[8-9]\\d{2})|([2-9]\\d{3}))([-\\/\\._])(10|12|0?[13578])([-\\/\\._])(3[01]|[12][0-9]|0?[1-9])$)|(^((1[8-9]\\d{2})|([2-9]\\d{3}))([-\\/\\._])(11|0?[469])([-\\/\\._])(30|[12][0-9]|0?[1-9])$)|(^((1[8-9]\\d{2})|([2-9]\\d{3}))([-\\/\\._])(0?2)([-\\/\\._])(2[0-8]|1[0-9]|0?[1-9])$)|(^([2468][048]00)([-\\/\\._])(0?2)([-\\/\\._])(29)$)|(^([3579][26]00)([-\\/\\._])(0?2)([-\\/\\._])(29)$)|(^([1][89][0][48])([-\\/\\._])(0?2)([-\\/\\._])(29)$)|(^([2-9][0-9][0][48])([-\\/\\._])(0?2)([-\\/\\._])(29)$)|(^([1][89][2468][048])([-\\/\\._])(0?2)([-\\/\\._])(29)$)|(^([2-9][0-9][2468][048])([-\\/\\._])(0?2)([-\\/\\._])(29)$)|(^([1][89][13579][26])([-\\/\\._])(0?2)([-\\/\\._])(29)$)|(^([2-9][0-9][13579][26])([-\\/\\._])(0?2)([-\\/\\._])(29)$))";e.calendarPattern="^\\d{4}-\\d{1,2}-\\d{1,2}$"},6:function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isLegal=function(r){var e=function(r){return"("===r||"["===r||"{"===r||"/*"===r?0:")"===r||"]"===r||"}"===r||"*/"===r?1:2},t=[];if(null!==r||""!==r||void 0!==r){for(var n=0;n<r.length;n++){var a=r.charAt(n);if(0===e(a))t.push(a);else if(!(1!==e(a)||0!==t.length&&(o=t.pop(),u=a,"("===o&&")"===u||"{"===o&&"}"===u||"["===o&&"]"===u||"/*"===o&&"*/"===u)))return!1}return 0===t.length}var o,u},e.distinct=function(r){return function(r){return function(r){if(Array.isArray(r)){for(var e=0,t=new Array(r.length);e<r.length;e++)t[e]=r[e];return t}}(r)||function(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(new Set(r))},e.changeFormula=function(r){for(var e=0;e<r.length;e++){var t=r[e];-1===t.search(/^[A-Za-z]+\d+:[A-Za-z]+\d+$/)&&(r[e]="".concat(t,":").concat(t))}return r},e.deepCopy=function r(e){var t=Array.isArray(e)?[]:{};for(var n in e)e.hasOwnProperty(n)&&("object"===a(e[n])&&null!==e[n]?t[n]=r(e[n]):t[n]=e[n]);return t},e.positionAngle=e.cuttingByPos2=e.cuttingByPosEnd2=e.isSheetVale=e.splitStr=e.value2absolute=e.cuttingByPosEnd=e.operation3=e.cutFirst=e.cuttingByPos=e.isAbsoluteValue=e.cutting2=e.cutting=e.cutStr=e.operation=e.operator=void 0;var n=t(22);function a(r){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}var o=["+","-","*","/","&","^","(",",","="," "," ","，"];e.operator=o;var u=["+","-","*","/","&","^","(",",","="," ","，"],i=["+","-","*","/","&","^","(",",","=",")","，"],l=function(r){for(var e=0;e<o.length;e++)if(o[e]===r)return 1;return 0};e.operation=l;var c=function(r){for(var e=0;e<o.length;e++)if(u[e]===r)return 1;return 0};e.operation3=c;var s=function(r){for(var e=0;e<i.length;e++)if(i[e]===r)return 1;return 0};e.value2absolute=function(r){for(var e="",t=!1,n=0;n<r.length;n++)!1===t&&1*r[n]>=0&&1*r[n]<=9&&(e+="$",t=!0),e+=r[n];return{s1:e,s2:"$"+r,s3:"$"+e}};e.cutStr=function(r){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("="!==(r=(r+="").toUpperCase())[0])return[];for(var a=r.split((0,n.str2Re)(n.logicOperator)),o=0;o<a.length;o++)a[o]=a[o].replace((0,n.str2Re)(n.blankOperator),"");var u=[],i=0;return a.filter((function(r){var o=!0;a.length>i+1&&(-1!==a[i+1].indexOf("(")&&(o=!1));if(t&&o)-1===(r=r.replace(/\$/g,"")).search((0,n.str2Re)(n.letterOperator))&&-1===r.search((0,n.str2Re)(n.letterAndLetterOperator))||-1===u.indexOf(r)&&u.push(r);else if(o){if(-1!==r.search((0,n.str2Re)(n.letterOperator))||-1!==r.search((0,n.str2Re)(n.letterOperatorWithDollor))||-1!==r.search((0,n.str2Re)(n.letterOperatorWithDollorEnd))||-1!==r.search((0,n.str2Re)(n.letterOperatorWithDollorPrex)))-1!==u.indexOf(r)&&!0!==e||u.push(r);else-1!==r.replace(/\$/g,"").search((0,n.str2Re)(n.letterAndLetterOperator))&&u.push(r)}i+=1})),u};e.cutFirst=function(r){for(var e="",t=0;t<r.length;t++){if(s(r[t]))return e;e+=r[t]}return e};e.cuttingByPos=function(r,e){for(var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n="",a=!1,o=e-1;o>0&&!1===a;o--)!1===(a=!1===t?1===c(r[o]):1===l(r[o]))&&(n+=r[o]);return t&&(n=n.replace(/\s/g,"")),(n=n.split("").reverse().join("")).toUpperCase()};e.cuttingByPos2=function(r,e){for(var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n="",a=!1,o=e-1;o>0&&!1===a;o--)!1===(a=!1===t?1===c(r[o]):1===l(r[o]))&&(n+=r[o]);return t&&(n=n.replace(/\s/g,"")),n=n.split("").reverse().join("")};e.cuttingByPosEnd=function(r,e){for(var t="",n=!1,a=e-1;a<r.length&&!1===n;a++)!1===(n=1===l(r[a]))&&")"!==r[a]&&(t+=r[a]);return t.toUpperCase()};e.cuttingByPosEnd2=function(r,e){for(var t="",n=e-1;n<r.length;n++)t+=r[n];return t};e.cutting=function(r){for(var e=[],t=0;t<r.length;t++)r[t]&&e.push(r[t]);return e};e.isSheetVale=function(r){return-1!==(r=r.toUpperCase()).search(/[\u4E00-\u9FA50-9a-zA-Z]+![A-Za-z]+\$\d+/)||(-1!==r.search(/[\u4E00-\u9FA50-9a-zA-Z]+!\$[A-Za-z]+\d+/)||(-1!==r.search(/[\u4E00-\u9FA50-9a-zA-Z]+!\$[A-Za-z]+\$\d+/)||-1!==r.search(/[\u4E00-\u9FA50-9a-zA-Z]+![A-Za-z]+\d+/)))};e.positionAngle=function(r,e,t,n){var a,o,u,i,l=0,c=Math.abs((u=(o={x:e,y:n}).x-(a={x:r,y:t}).x,i=o.y-a.y,360*Math.atan(i/u)/(2*Math.PI)));return r<e&&t<n?l=1:r>e&&t<n?l=2:r<e&&t>n?l=3:r>e&&t>n&&(l=4),1===l&&c<45?l=3:2===l&&c>30?l=1:3===l&&c>30?l=4:4===l&&c<45?l=2:l};e.isAbsoluteValue=function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return r=r.toUpperCase(),1===e?-1!==r.search(/^\$[A-Z]+\$\d+$/)?3:-1!==r.search(/^\$[A-Z]+\d+$/)?1:-1!==r.search(/^[A-Z]+\$\d+$/)&&2:3===e?-1!==r.search(/^\$[A-Z]+\$\d+$/)||(-1!==r.search(/^[A-Z]+\d+$/)||(-1!==r.search(/^\$[A-Z]+\d+$/)||-1!==r.search(/^[A-Z]+\$\d+$/))):4!==e?5===e?-1!==r.search(/^[A-Z]+\d+:\$[A-Z]+\d+$/)?8:-1!==r.search(/^[A-Z]+\d+:[A-Z]+\$\d+$/)?9:-1!==r.search(/^[A-Z]+\$\d+:[A-Z]+\d+$/)?10:-1!==r.search(/^\$[A-Z]+\d+:[A-Z]+\d+$/)?11:-1!==r.search(/^\$[A-Z]+\$\d+$/)?3:-1!==r.search(/^[A-Z]+\d+$/)?12:-1!==r.search(/^[A-Z]+\d+:[A-Z]+\d+$/)?13:-1!==r.search(/^\$[A-Z]+\d+$/)?1:-1!==r.search(/^[A-Z]+\$\d+$/)?2:-1!==r.search(/^[A-Z]+\$\d+:[A-Z]+\$\d+$/)?4:-1!==r.search(/^[A-Z]+\$\d+:\$[A-Z]+\d+$/)?5:-1!==r.search(/^\$[A-Z]+\d+:[A-Z]+\$\d+$/)?6:-1!==r.search(/^\$[A-Z]+\d+:\$[A-Z]+\d+$/)&&7:6===e?-1!==(r=r.replace(/\$/g,"")).search(/^[A-Za-z]+\d+:[A-Za-z]+\d+$/):-1!==r.search(/^[A-Za-z]+\d+$/)||-1!==r.search(/^[A-Za-z]+\d+:[A-Za-z]+\d+$/):-1!==r.search(/^[A-Za-z]+\d+:[A-Za-z]+\d+$/)||void 0};e.splitStr=function(r){for(var e=r.split(/([(-\/,+，*\s=^&])/),t=[],n=0;n<e.length;n++){var a=1;if(e.length>n+1){var o=e[n+1];"("===e[n]?a=3:-1!==o.indexOf("(")&&(a=2)}3!==a&&(2===a?t.push(e[n]+"("):t.push(e[n]))}return t};e.cutting2=function(r){for(var e=r.split(/([(-\/,+，*\s=^&])/),t=0,n=[],a=0;a<e.length;a++)e[a]&&n.push(e[a]);for(var o=[],u=0;u<n.length;u++){var i=n[u].toUpperCase(),l=!0;if(n.length>u+1)-1!==n[u+1].indexOf("(")&&(l=!1);if(-1===i.search(/^[A-Z]+\d+$/)&&-1===i.search(/^\$[A-Z]+\$\d+$/)&&-1===i.search(/^[A-Z]+\$\d+$/)&&-1===i.search(/^\$[A-Z]+\d+$/)&&-1===i.search(/^[A-Za-z]+\d+:[A-Za-z]+\d+$/)||!l){if(-1!==i.replace(/\$/g,"").search(/^[A-Za-z]+\d+:[A-Za-z]+\d+$/)&&l){for(var c=0;c<n[u].length;c++)o.push({code:t,data:n[u][c]});t+=1}else for(var s=0;s<n[u].length;s++)o.push({code:-1,data:n[u][s]})}else{for(var d=0;d<n[u].length;d++)o.push({code:t,data:n[u][d]});t+=1}}return o}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL3JlZ19wYXR0ZXJuLmpzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL29wZXJhdG9yLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwic3RyIiwiUmVnRXhwIiwidmVyaWZ5RmxhZyIsImNoYXIiLCJsZWZ0U3RhY2siLCJ1bmRlZmluZWQiLCJsZW5ndGgiLCJjaGFyQXQiLCJwdXNoIiwiY2hhcjEiLCJwb3AiLCJjaGFyMiIsImFyciIsIlNldCIsImN1dCIsInNlYXJjaCIsImRlZXBDb3B5Iiwib2JqIiwicmVzdWx0IiwiQXJyYXkiLCJpc0FycmF5Iiwib3BlcmF0b3IiLCJvcGVyYXRvcjMiLCJvcGVyYXRvcjIiLCJvcGVyYXRpb24iLCJvcGVyYXRpb24zIiwib3BlcmF0aW9uMiIsInMxIiwiZW50ZXIiLCJzMiIsInMzIiwiZmlsdGVyIiwiZiIsInRvVXBwZXJDYXNlIiwic3BsaXQiLCJzdHIyUmUiLCJsb2dpY09wZXJhdG9yIiwicmVwbGFjZSIsImJsYW5rT3BlcmF0b3IiLCJleHByZXNzIiwiaW5kZXgiLCJpbmRleE9mIiwibGV0dGVyT3BlcmF0b3IiLCJsZXR0ZXJBbmRMZXR0ZXJPcGVyYXRvciIsImxldHRlck9wZXJhdG9yV2l0aERvbGxvciIsImxldHRlck9wZXJhdG9yV2l0aERvbGxvckVuZCIsImxldHRlck9wZXJhdG9yV2l0aERvbGxvclByZXgiLCJwb3MiLCJzcGFjZSIsImVuZCIsInJldmVyc2UiLCJqb2luIiwieDEiLCJ4MiIsInkxIiwieTIiLCJzdGFydCIsImRpZmZfeCIsImRpZmZfeSIsImFuZ2xlIiwiYWYiLCJNYXRoIiwiYWJzIiwieCIsInkiLCJhdGFuIiwiUEkiLCJydWxlIiwiYXJyMiIsImNvbG9yIiwiY29sb3JzIiwiaTIiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxH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QUFRaUUsSUFDckNELEVBQU85RCxLQUFLLENBQ1IsS0FBUTZELEVBQ1IsS0FBUTlCLEVBQVF2RSxHQUFHdUcsS0FFM0JGLEdBQWdCLE9BRWhCLElBQUssSUFBSUUsRUFBSyxFQUFHQSxFQUFLaEMsRUFBUXZFLEdBQUdzQyxPQUFRaUUsSUFDckNELEVBQU85RCxLQUFLLENBQ1IsTUFBUyxFQUNULEtBQVErQixFQUFRdkUsR0FBR3VHLFNBcEJrQyxDQUNqRSxJQUFLLElBQUlBLEVBQUssRUFBR0EsRUFBS2hDLEVBQVF2RSxHQUFHc0MsT0FBUWlFLElBQ3JDRCxFQUFPOUQsS0FBSyxDQUNSLEtBQVE2RCxFQUNSLEtBQVE5QixFQUFRdkUsR0FBR3VHLEtBRTNCRixHQUFnQixHQXFCeEIsT0FBT0MiLCJmaWxlIjoiZi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA2KTtcbiIsIi8vIGpvYnM6IHRvZG86IOato+WImeihqOi+vuW8j+WPr+S7pee7n+S4gOaUvuWIsHV0aWxzL3JlZ19wYXR0ZXJuLmpz5paH5Lu25Lit5Y67XG5leHBvcnQgY29uc3QgbG9naWNPcGVyYXRvciA9IFwiKFsoLVxcXFwvLCsq77yMPV4mXSlcIjtcbmV4cG9ydCBjb25zdCBibGFua09wZXJhdG9yID0gXCIoXlxcXFxzKil8KFxcXFxzKiQpXCI7XG5leHBvcnQgY29uc3QgbGV0dGVyT3BlcmF0b3IgPSBcIl5bQS1aXStcXFxcZCskXCI7XG5leHBvcnQgY29uc3QgbGV0dGVyT3BlcmF0b3JJZ25vcmVCcmFja2V0ID0gXCJeW0EtWl0rXFxcXGQrJFwiO1xuZXhwb3J0IGNvbnN0IGxldHRlck9wZXJhdG9yV2l0aERvbGxvciA9IFwiXlxcXFwkW0EtWl0rXFxcXCRcXFxcZCskXCI7XG5leHBvcnQgY29uc3QgbGV0dGVyQW5kTGV0dGVyT3BlcmF0b3IgPSBcIl5bQS1aYS16XStcXFxcZCs6W0EtWmEtel0rXFxcXGQrJFwiO1xuZXhwb3J0IGNvbnN0IGxldHRlck9wZXJhdG9yV2l0aERvbGxvckVuZCA9IFwiXltBLVpdK1xcXFwkXFxcXGQrJFwiO1xuZXhwb3J0IGNvbnN0IGxldHRlck9wZXJhdG9yV2l0aERvbGxvclByZXggPSBcIl5cXFxcJFtBLVpdK1xcXFxkKyRcIjtcblxuZXhwb3J0IGNvbnN0IGRhdGVQYXR0ZXJuID0gW1wiXihcXFxcZHs0fSlbLVxcL10oXFxcXGR7MSwyfSlbLVxcL10oXFxcXGR7MSwyfSkkXCIsIFwiXihcXFxcZHs0fSnlubQoXFxcXGR7MSwyfSnmnIgoXFxcXGR7MSwyfSnml6UkXCJdO1xuZXhwb3J0IGNvbnN0IGRhdGVQYXR0ZXJuMiA9IFwiKCheKCgxWzgtOV1cXFxcZHsyfSl8KFsyLTldXFxcXGR7M30pKShbLVxcXFwvXFxcXC5fXSkoMTB8MTJ8MD9bMTM1NzhdKShbLVxcXFwvXFxcXC5fXSkoM1swMV18WzEyXVswLTldfDA/WzEtOV0pJCl8KF4oKDFbOC05XVxcXFxkezJ9KXwoWzItOV1cXFxcZHszfSkpKFstXFxcXC9cXFxcLl9dKSgxMXwwP1s0NjldKShbLVxcXFwvXFxcXC5fXSkoMzB8WzEyXVswLTldfDA/WzEtOV0pJCl8KF4oKDFbOC05XVxcXFxkezJ9KXwoWzItOV1cXFxcZHszfSkpKFstXFxcXC9cXFxcLl9dKSgwPzIpKFstXFxcXC9cXFxcLl9dKSgyWzAtOF18MVswLTldfDA/WzEtOV0pJCl8KF4oWzI0NjhdWzA0OF0wMCkoWy1cXFxcL1xcXFwuX10pKDA/MikoWy1cXFxcL1xcXFwuX10pKDI5KSQpfCheKFszNTc5XVsyNl0wMCkoWy1cXFxcL1xcXFwuX10pKDA/MikoWy1cXFxcL1xcXFwuX10pKDI5KSQpfCheKFsxXVs4OV1bMF1bNDhdKShbLVxcXFwvXFxcXC5fXSkoMD8yKShbLVxcXFwvXFxcXC5fXSkoMjkpJCl8KF4oWzItOV1bMC05XVswXVs0OF0pKFstXFxcXC9cXFxcLl9dKSgwPzIpKFstXFxcXC9cXFxcLl9dKSgyOSkkKXwoXihbMV1bODldWzI0NjhdWzA0OF0pKFstXFxcXC9cXFxcLl9dKSgwPzIpKFstXFxcXC9cXFxcLl9dKSgyOSkkKXwoXihbMi05XVswLTldWzI0NjhdWzA0OF0pKFstXFxcXC9cXFxcLl9dKSgwPzIpKFstXFxcXC9cXFxcLl9dKSgyOSkkKXwoXihbMV1bODldWzEzNTc5XVsyNl0pKFstXFxcXC9cXFxcLl9dKSgwPzIpKFstXFxcXC9cXFxcLl9dKSgyOSkkKXwoXihbMi05XVswLTldWzEzNTc5XVsyNl0pKFstXFxcXC9cXFxcLl9dKSgwPzIpKFstXFxcXC9cXFxcLl9dKSgyOSkkKSlcIjtcblxuZXhwb3J0IGNvbnN0IGNhbGVuZGFyUGF0dGVybiA9IFwiXlxcXFxkezR9LVxcXFxkezEsMn0tXFxcXGR7MSwyfSRcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHN0cjJSZShzdHIpIHtcblxuICAgIHJldHVybiBuZXcgUmVnRXhwKHN0ciwgJ2cnKTtcbn1cbiIsImltcG9ydCB7XG4gICAgYmxhbmtPcGVyYXRvcixcbiAgICBsZXR0ZXJBbmRMZXR0ZXJPcGVyYXRvcixcbiAgICBsZXR0ZXJPcGVyYXRvcixcbiAgICBsZXR0ZXJPcGVyYXRvcldpdGhEb2xsb3IsXG4gICAgbGV0dGVyT3BlcmF0b3JXaXRoRG9sbG9yRW5kLFxuICAgIGxldHRlck9wZXJhdG9yV2l0aERvbGxvclByZXgsXG4gICAgbG9naWNPcGVyYXRvcixcbiAgICBzdHIyUmVcbn0gZnJvbSBcIi4uL3V0aWxzL3JlZ19wYXR0ZXJuLmpzXCI7XG5cbmNvbnN0IG9wZXJhdG9yID0gW1xuICAgIFwiK1wiLCBcIi1cIiwgXCIqXCIsIFwiL1wiLCBcIiZcIiwgXCJeXCIsIFwiKFwiLCBcIixcIiwgXCI9XCIsIFwiIFwiLCBcIsKgXCIsIFwi77yMXCJcbl07XG5cbmNvbnN0IG9wZXJhdG9yMyA9IFtcbiAgICBcIitcIiwgXCItXCIsIFwiKlwiLCBcIi9cIiwgXCImXCIsIFwiXlwiLCBcIihcIiwgXCIsXCIsIFwiPVwiLCBcIiBcIiwgXCLvvIxcIlxuXTtcblxuY29uc3Qgb3BlcmF0b3IyID0gW1xuICAgIFwiK1wiLCBcIi1cIiwgXCIqXCIsIFwiL1wiLCBcIiZcIiwgXCJeXCIsIFwiKFwiLCBcIixcIiwgXCI9XCIsIFwiKVwiLCBcIu+8jFwiXG5dO1xuXG5cbmNvbnN0IG9wZXJhdGlvbiA9IChzKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcGVyYXRvci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAob3BlcmF0b3JbaV0gPT09IHMpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAwO1xufTtcblxuLy8g5a2Y5Zyo55qE5Y6f5Zug5pivIOS4jei/h+a7pCDnqbrmoLxcbmNvbnN0IG9wZXJhdGlvbjMgPSAocykgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3BlcmF0b3IubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKG9wZXJhdG9yM1tpXSA9PT0gcykge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIDA7XG59O1xuXG5jb25zdCBvcGVyYXRpb24yID0gKHMpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wZXJhdG9yMi5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAob3BlcmF0b3IyW2ldID09PSBzKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gMDtcbn07XG5cblxuY29uc3QgdmFsdWUyYWJzb2x1dGUgPSAoc3RyKSA9PiB7XG4gICAgbGV0IHMxID0gXCJcIiwgZW50ZXIgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZW50ZXIgPT09IGZhbHNlICYmIHN0cltpXSAqIDEgPj0gMCAmJiBzdHJbaV0gKiAxIDw9IDkpIHtcbiAgICAgICAgICAgIHMxICs9IFwiJFwiO1xuICAgICAgICAgICAgZW50ZXIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHMxICs9IHN0cltpXTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzMTogczEsXG4gICAgICAgIHMyOiBcIiRcIiArIHN0cixcbiAgICAgICAgczM6IFwiJFwiICsgczFcbiAgICB9XG59O1xuXG5jb25zdCBjdXRTdHIgPSAoc3RyLCBmaWx0ZXIgPSBmYWxzZSwgZiA9IGZhbHNlKSA9PiB7XG4gICAgc3RyID0gc3RyICsgXCJcIjtcbiAgICBzdHIgPSBzdHIudG9VcHBlckNhc2UoKTtcbiAgICBpZiAoc3RyWzBdICE9PSBcIj1cIikge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLy8g5oqK56m65qC85Y676Zmk55qE5Y6f5Zug5piv5Zug5Li6ID0+IEEgICAxIOi/meenjeaDheWGteS4jeW6lOivpeiiq+WMheWQq+WcqOWGhVxuICAgIC8vIHN0ciA9IHN0ci5yZXBsYWNlKC9cXHMvZywgXCJcIik7XG4gICAgbGV0IGFyciA9IHN0ci5zcGxpdChzdHIyUmUobG9naWNPcGVyYXRvcikpO1xuXG4gICAgLy8g5Y676Zmk5a2X56ym5Liy5Lik56uv55qE56m65qC8XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXJyW2ldID0gYXJyW2ldLnJlcGxhY2Uoc3RyMlJlKGJsYW5rT3BlcmF0b3IpLCBcIlwiKTtcbiAgICB9XG4gICAgbGV0IGV4cHJlc3MgPSBbXTtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGFyci5maWx0ZXIoaSA9PiB7XG4gICAgICAgIGxldCBlbnRlciA9IHRydWU7XG4gICAgICAgIGlmIChhcnIubGVuZ3RoID4gaW5kZXggKyAxKSB7XG4gICAgICAgICAgICBsZXQgczIgPSBhcnJbaW5kZXggKyAxXTtcbiAgICAgICAgICAgIGlmIChzMi5pbmRleE9mKFwiKFwiKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBlbnRlciA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29uc29sZS5sb2cocmkuc2VhcmNoKHN0cjJSZShsZXR0ZXJPcGVyYXRvcklnbm9yZUJyYWNrZXQpKSwgcmkpXG4gICAgICAgIC8vIGlmKHJpLnNlYXJjaChzdHIyUmUobGV0dGVyT3BlcmF0b3JJZ25vcmVCcmFja2V0KSkgPT09IC0xKSB7XG4gICAgICAgIGlmIChmICYmIGVudGVyKSB7XG4gICAgICAgICAgICBpID0gaS5yZXBsYWNlKC9cXCQvZywgJycpO1xuICAgICAgICAgICAgaWYgKGkuc2VhcmNoKHN0cjJSZShsZXR0ZXJPcGVyYXRvcikpICE9PSAtMVxuICAgICAgICAgICAgICAgIHx8IGkuc2VhcmNoKHN0cjJSZShsZXR0ZXJBbmRMZXR0ZXJPcGVyYXRvcikpICE9PSAtMSlcbiAgICAgICAgICAgICAgICBpZiAoZXhwcmVzcy5pbmRleE9mKGkpID09PSAtMSlcbiAgICAgICAgICAgICAgICAgICAgZXhwcmVzcy5wdXNoKGkpO1xuICAgICAgICB9IGVsc2UgaWYgKGVudGVyKSB7XG4gICAgICAgICAgICBpZiAoaS5zZWFyY2goc3RyMlJlKGxldHRlck9wZXJhdG9yKSkgIT09IC0xIHx8IGkuc2VhcmNoKHN0cjJSZShsZXR0ZXJPcGVyYXRvcldpdGhEb2xsb3IpKSAhPT0gLTFcbiAgICAgICAgICAgICAgICB8fCBpLnNlYXJjaChzdHIyUmUobGV0dGVyT3BlcmF0b3JXaXRoRG9sbG9yRW5kKSkgIT09IC0xIHx8IGkuc2VhcmNoKHN0cjJSZShsZXR0ZXJPcGVyYXRvcldpdGhEb2xsb3JQcmV4KSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4cHJlc3MuaW5kZXhPZihpKSA9PT0gLTEgfHwgZmlsdGVyID09PSB0cnVlKVxuICAgICAgICAgICAgICAgICAgICBleHByZXNzLnB1c2goaSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBpcyA9IGkucmVwbGFjZSgvXFwkL2csIFwiXCIpO1xuICAgICAgICAgICAgICAgIGlmIChpcy5zZWFyY2goc3RyMlJlKGxldHRlckFuZExldHRlck9wZXJhdG9yKSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4cHJlc3MucHVzaChpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gfVxuICAgICAgICBpbmRleCA9IGluZGV4ICsgMTtcbiAgICB9KTtcblxuICAgIHJldHVybiBleHByZXNzO1xufTtcblxuLy8gQTEgPT4gQTE6QTFcbmZ1bmN0aW9uIGNoYW5nZUZvcm11bGEoY3V0KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGMgPSBjdXRbaV07XG4gICAgICAgIGlmIChjLnNlYXJjaCgvXltBLVphLXpdK1xcZCs6W0EtWmEtel0rXFxkKyQvKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGN1dFtpXSA9IGAke2N9OiR7Y31gO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0xlZ2FsKHN0cikge1xuICAgIGNvbnN0IGxlZnQgPSAwO1xuICAgIGNvbnN0IHJpZ2h0ID0gMTtcbiAgICBjb25zdCBvdGhlciA9IDI7XG4gICAgLy/liKTmlq3mi6zlj7fmmK/lt6bovrnov5jmmK/lj7PovrnvvIzmiJbogIXlhbbku5ZcbiAgICBsZXQgdmVyaWZ5RmxhZyA9IGZ1bmN0aW9uIChjaGFyKSB7XG4gICAgICAgIGlmIChjaGFyID09PSBcIihcIiB8fCBjaGFyID09PSBcIltcIiB8fCBjaGFyID09PSBcIntcIiB8fCBjaGFyID09PSBcIi8qXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBsZWZ0O1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXIgPT09IFwiKVwiIHx8IGNoYXIgPT09IFwiXVwiIHx8IGNoYXIgPT09IFwifVwiIHx8IGNoYXIgPT09IFwiKi9cIikge1xuICAgICAgICAgICAgcmV0dXJuIHJpZ2h0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG90aGVyO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvL+WIpOaWreW3puWPs+aLrOWPt+aYr+WQpuWMuemFjVxuICAgIGxldCBtYXRjaGVzID0gZnVuY3Rpb24gKGNoYXIxLCBjaGFyMikge1xuICAgICAgICByZXR1cm4gKGNoYXIxID09PSBcIihcIiAmJiBjaGFyMiA9PT0gXCIpXCIpXG4gICAgICAgICAgICB8fCAoY2hhcjEgPT09IFwie1wiICYmIGNoYXIyID09PSBcIn1cIilcbiAgICAgICAgICAgIHx8IChjaGFyMSA9PT0gXCJbXCIgJiYgY2hhcjIgPT09IFwiXVwiKVxuICAgICAgICAgICAgfHwgKGNoYXIxID09PSBcIi8qXCIgJiYgY2hhcjIgPT09IFwiKi9cIik7XG4gICAgfTtcbiAgICAvL+WFpeWPo1xuICAgIGxldCBsZWZ0U3RhY2sgPSBbXTtcbiAgICBpZiAoc3RyICE9PSBudWxsIHx8IHN0ciAhPT0gXCJcIiB8fCBzdHIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy/lpITnkIblrZfnrKZcbiAgICAgICAgICAgIGxldCBjaGFyID0gc3RyLmNoYXJBdChpKTtcbiAgICAgICAgICAgIGlmICh2ZXJpZnlGbGFnKGNoYXIpID09PSBsZWZ0KSB7XG4gICAgICAgICAgICAgICAgbGVmdFN0YWNrLnB1c2goY2hhcik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZlcmlmeUZsYWcoY2hhcikgPT09IHJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgLy/lpoLmnpzkuI3ljLnphY3vvIzmiJbogIXlt6bmi6zlj7fmoIjlt7Lnu4/kuLrnqbrvvIzliJnljLnphY3lpLHotKVcbiAgICAgICAgICAgICAgICBpZiAobGVmdFN0YWNrLmxlbmd0aCA9PT0gMCB8fCAhbWF0Y2hlcyhsZWZ0U3RhY2sucG9wKCksIGNoYXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8v5b6q546v57uT5p2f77yM5aaC5p6c5bem5ous5Y+35qCI6L+Y5pyJ5ous5Y+377yM5Lmf5piv5Yy56YWN5aSx6LSlXG5cbiAgICAgICAgcmV0dXJuIGxlZnRTdGFjay5sZW5ndGggPT09IDA7XG4gICAgfVxufVxuXG5jb25zdCBjdXRGaXJzdCA9IChzdHIpID0+IHtcbiAgICBsZXQgcyA9IFwiXCI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKG9wZXJhdGlvbjIoc3RyW2ldKSkge1xuICAgICAgICAgICAgcmV0dXJuIHM7XG4gICAgICAgIH1cbiAgICAgICAgcyArPSBzdHJbaV07XG4gICAgfVxuICAgIHJldHVybiBzO1xufTtcblxuXG5jb25zdCBjdXR0aW5nQnlQb3MgPSAoc3RyLCBwb3MsIHNwYWNlID0gdHJ1ZSkgPT4ge1xuICAgIGxldCB2YWx1ZSA9IFwiXCI7XG4gICAgbGV0IGVuZCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSBwb3MgLSAxOyBpID4gMCAmJiBlbmQgPT09IGZhbHNlOyBpLS0pIHtcbiAgICAgICAgaWYgKHNwYWNlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZW5kID0gb3BlcmF0aW9uMyhzdHJbaV0pID09PSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZW5kID0gb3BlcmF0aW9uKHN0cltpXSkgPT09IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHZhbHVlICs9IHN0cltpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc3BhY2UpXG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxzL2csIFwiXCIpO1xuICAgIHZhbHVlID0gdmFsdWUuc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKTtcbiAgICByZXR1cm4gdmFsdWUudG9VcHBlckNhc2UoKTtcbn07XG5cbmNvbnN0IGN1dHRpbmdCeVBvczIgPSAoc3RyLCBwb3MsIHNwYWNlID0gdHJ1ZSkgPT4ge1xuICAgIGxldCB2YWx1ZSA9IFwiXCI7XG4gICAgbGV0IGVuZCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSBwb3MgLSAxOyBpID4gMCAmJiBlbmQgPT09IGZhbHNlOyBpLS0pIHtcbiAgICAgICAgaWYgKHNwYWNlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZW5kID0gb3BlcmF0aW9uMyhzdHJbaV0pID09PSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZW5kID0gb3BlcmF0aW9uKHN0cltpXSkgPT09IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHZhbHVlICs9IHN0cltpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc3BhY2UpXG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxzL2csIFwiXCIpO1xuICAgIHZhbHVlID0gdmFsdWUuc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKTtcbiAgICByZXR1cm4gdmFsdWU7XG59O1xuXG5cbmNvbnN0IGN1dHRpbmdCeVBvc0VuZCA9IChzdHIsIHBvcykgPT4ge1xuICAgIGxldCB2YWx1ZSA9IFwiXCI7XG4gICAgbGV0IGVuZCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSBwb3MgLSAxOyBpIDwgc3RyLmxlbmd0aCAmJiBlbmQgPT09IGZhbHNlOyBpKyspIHtcbiAgICAgICAgZW5kID0gb3BlcmF0aW9uKHN0cltpXSkgPT09IDE7XG4gICAgICAgIGlmIChlbmQgPT09IGZhbHNlICYmIHN0cltpXSAhPT0gJyknKSB7XG4gICAgICAgICAgICB2YWx1ZSArPSBzdHJbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlLnRvVXBwZXJDYXNlKCk7XG59O1xuXG5jb25zdCBjdXR0aW5nQnlQb3NFbmQyID0gKHN0ciwgcG9zKSA9PiB7XG4gICAgbGV0IHZhbHVlID0gXCJcIjtcbiAgICBmb3IgKGxldCBpID0gcG9zIC0gMTsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZSArPSBzdHJbaV07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXN0aW5jdChhcnIpIHtcbiAgICByZXR1cm4gWy4uLm5ldyBTZXQoYXJyKV07XG59XG5cbmNvbnN0IGN1dHRpbmcgPSAoc3RyKSA9PiB7XG4gICAgbGV0IGV4cHJlc3MgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc3RyW2ldKSB7XG4gICAgICAgICAgICBleHByZXNzLnB1c2goc3RyW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZXhwcmVzcztcbn07XG5cbmNvbnN0IGlzU2hlZXRWYWxlID0gKHN0cikgPT4ge1xuICAgIHN0ciA9IHN0ci50b1VwcGVyQ2FzZSgpO1xuICAgIGlmIChzdHIuc2VhcmNoKC9bXFx1NEUwMC1cXHU5RkE1MC05YS16QS1aXSshW0EtWmEtel0rXFwkXFxkKy8pICE9PSAtMSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKHN0ci5zZWFyY2goL1tcXHU0RTAwLVxcdTlGQTUwLTlhLXpBLVpdKyFcXCRbQS1aYS16XStcXGQrLykgIT09IC0xKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoc3RyLnNlYXJjaCgvW1xcdTRFMDAtXFx1OUZBNTAtOWEtekEtWl0rIVxcJFtBLVphLXpdK1xcJFxcZCsvKSAhPT0gLTEpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIC8vIGlmIChzdHIuc2VhcmNoKC9bXFx1NEUwMC1cXHU5RkE1MC05YS16QS1aXSshW0EtWmEtel0rXFxkKy8pICE9PSAtMSlcbiAgICAvLyAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIHN0ci5zZWFyY2goL1tcXHU0RTAwLVxcdTlGQTUwLTlhLXpBLVpdKyFbQS1aYS16XStcXGQrLykgIT09IC0xO1xufTtcblxuXG5mdW5jdGlvbiBhbmdsZUZ1bmMoc3RhcnQsIGVuZCkge1xuICAgIGxldCBkaWZmX3ggPSBlbmQueCAtIHN0YXJ0LngsXG4gICAgICAgIGRpZmZfeSA9IGVuZC55IC0gc3RhcnQueTtcbiAgICByZXR1cm4gMzYwICogTWF0aC5hdGFuKGRpZmZfeSAvIGRpZmZfeCkgLyAoMiAqIE1hdGguUEkpO1xufVxuXG5jb25zdCBwb3NpdGlvbkFuZ2xlID0gKHgxLCB4MiwgeTEsIHkyKSA9PiB7XG4gICAgbGV0IGFuZ2xlID0gMDtcbiAgICBsZXQgYWYgPSBNYXRoLmFicyhhbmdsZUZ1bmMoe3g6IHgxLCB5OiB5MX0sIHt4OiB4MiwgeTogeTJ9KSk7XG5cbiAgICBpZiAoeDEgPCB4MiAmJiB5MSA8IHkyKSB7XG4gICAgICAgIGFuZ2xlID0gMTtcbiAgICB9IGVsc2UgaWYgKHgxID4geDIgJiYgeTEgPCB5Mikge1xuICAgICAgICBhbmdsZSA9IDI7XG4gICAgfSBlbHNlIGlmICh4MSA8IHgyICYmIHkxID4geTIpIHtcbiAgICAgICAgYW5nbGUgPSAzO1xuICAgIH0gZWxzZSBpZiAoeDEgPiB4MiAmJiB5MSA+IHkyKSB7XG4gICAgICAgIGFuZ2xlID0gNDtcbiAgICB9XG5cbiAgICBpZiAoYW5nbGUgPT09IDEgJiYgYWYgPCA0NSkge1xuICAgICAgICBhbmdsZSA9IDM7XG4gICAgICAgIHJldHVybiBhbmdsZTtcbiAgICB9IGVsc2UgaWYgKGFuZ2xlID09PSAyICYmIGFmID4gMzApIHtcbiAgICAgICAgYW5nbGUgPSAxO1xuICAgICAgICByZXR1cm4gYW5nbGU7XG4gICAgfSBlbHNlIGlmIChhbmdsZSA9PT0gMyAmJiBhZiA+IDMwKSB7XG4gICAgICAgIGFuZ2xlID0gNDtcbiAgICAgICAgcmV0dXJuIGFuZ2xlO1xuICAgIH0gZWxzZSBpZiAoYW5nbGUgPT09IDQgJiYgYWYgPCA0NSkge1xuICAgICAgICBhbmdsZSA9IDI7XG4gICAgICAgIHJldHVybiBhbmdsZTtcbiAgICB9XG5cbiAgICAvLyBpZiAoYW5nbGUgPT09IDIpIHtcbiAgICAvLyAgICAgbGV0IHMxID0gaCgnZGl2JywgJycpLmNzcygnYm9yZGVyJywgJzFweCBzb2xpZCcpLmNzcygnaGVpZ2h0JywgJzFweCcpLmNzcygnd2lkdGgnLCAnMXB4Jyk7XG4gICAgLy8gICAgIGxldCBzMiA9IGgoJ2RpdicsICcnKS5jc3MoJ2JvcmRlcicsICcxcHggc29saWQnKS5jc3MoJ2hlaWdodCcsICcxcHgnKS5jc3MoJ3dpZHRoJywgJzFweCcpO1xuICAgIC8vICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHMxLmVsKTtcbiAgICAvLyAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzMi5lbCk7XG4gICAgLy8gICAgIGRlYnVnZ2VyXG4gICAgLy8gfVxuICAgIHJldHVybiBhbmdsZTtcbn07XG5cbmNvbnN0IGlzQWJzb2x1dGVWYWx1ZSA9IChzdHIsIHJ1bGUgPSAxKSA9PiB7XG4gICAgc3RyID0gc3RyLnRvVXBwZXJDYXNlKCk7XG4gICAgaWYgKHJ1bGUgPT09IDEpIHtcbiAgICAgICAgaWYgKHN0ci5zZWFyY2goL15cXCRbQS1aXStcXCRcXGQrJC8pICE9PSAtMSlcbiAgICAgICAgICAgIHJldHVybiAzO1xuICAgICAgICBpZiAoc3RyLnNlYXJjaCgvXlxcJFtBLVpdK1xcZCskLykgIT09IC0xKVxuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIGlmIChzdHIuc2VhcmNoKC9eW0EtWl0rXFwkXFxkKyQvKSAhPT0gLTEpXG4gICAgICAgICAgICByZXR1cm4gMjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSBpZiAocnVsZSA9PT0gMykge1xuICAgICAgICBpZiAoc3RyLnNlYXJjaCgvXlxcJFtBLVpdK1xcJFxcZCskLykgIT09IC0xKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChzdHIuc2VhcmNoKC9eW0EtWl0rXFxkKyQvKSAhPT0gLTEpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKHN0ci5zZWFyY2goL15cXCRbQS1aXStcXGQrJC8pICE9PSAtMSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgIHJldHVybiBzdHIuc2VhcmNoKC9eW0EtWl0rXFwkXFxkKyQvKSAhPT0gLTE7XG4gICAgfSBlbHNlIGlmIChydWxlID09PSA0KSB7XG4gICAgICAgIGlmIChzdHIuc2VhcmNoKC9eW0EtWmEtel0rXFxkKzpbQS1aYS16XStcXGQrJC8pICE9PSAtMSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAocnVsZSA9PT0gNSkge1xuICAgICAgICBpZiAoc3RyLnNlYXJjaCgvXltBLVpdK1xcZCs6XFwkW0EtWl0rXFxkKyQvKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiA4O1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHIuc2VhcmNoKC9eW0EtWl0rXFxkKzpbQS1aXStcXCRcXGQrJC8pICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIDk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0ci5zZWFyY2goL15bQS1aXStcXCRcXGQrOltBLVpdK1xcZCskLykgIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gMTA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0ci5zZWFyY2goL15cXCRbQS1aXStcXGQrOltBLVpdK1xcZCskLykgIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gMTE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0ci5zZWFyY2goL15cXCRbQS1aXStcXCRcXGQrJC8pICE9PSAtMSlcbiAgICAgICAgICAgIHJldHVybiAzO1xuICAgICAgICBpZiAoc3RyLnNlYXJjaCgvXltBLVpdK1xcZCskLykgIT09IC0xKVxuICAgICAgICAgICAgcmV0dXJuIDEyO1xuICAgICAgICBpZiAoc3RyLnNlYXJjaCgvXltBLVpdK1xcZCs6W0EtWl0rXFxkKyQvKSAhPT0gLTEpXG4gICAgICAgICAgICByZXR1cm4gMTM7XG4gICAgICAgIGlmIChzdHIuc2VhcmNoKC9eXFwkW0EtWl0rXFxkKyQvKSAhPT0gLTEpXG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgaWYgKHN0ci5zZWFyY2goL15bQS1aXStcXCRcXGQrJC8pICE9PSAtMSlcbiAgICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICBpZiAoc3RyLnNlYXJjaCgvXltBLVpdK1xcJFxcZCs6W0EtWl0rXFwkXFxkKyQvKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiA0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHIuc2VhcmNoKC9eW0EtWl0rXFwkXFxkKzpcXCRbQS1aXStcXGQrJC8pICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIDU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0ci5zZWFyY2goL15cXCRbQS1aXStcXGQrOltBLVpdK1xcJFxcZCskLykgIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gNjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RyLnNlYXJjaCgvXlxcJFtBLVpdK1xcZCs6XFwkW0EtWl0rXFxkKyQvKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiA3O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH0gZWxzZSBpZiAocnVsZSA9PT0gNikge1xuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZSgvXFwkL2csICcnKTtcbiAgICAgICAgcmV0dXJuIHN0ci5zZWFyY2goL15bQS1aYS16XStcXGQrOltBLVphLXpdK1xcZCskLykgIT09IC0xO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzdHIuc2VhcmNoKC9eW0EtWmEtel0rXFxkKyQvKSAhPT0gLTEpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gc3RyLnNlYXJjaCgvXltBLVphLXpdK1xcZCs6W0EtWmEtel0rXFxkKyQvKSAhPT0gLTE7XG4gICAgfVxufTtcblxuY29uc3Qgc3BsaXRTdHIgPSAoc3RyKSA9PiB7XG4gICAgbGV0IGFyciA9IHN0ci5zcGxpdCgvKFsoLVxcLywr77yMKlxccz1eJl0pLyk7XG4gICAgbGV0IGFycjIgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgZW50ZXIgPSAxO1xuICAgICAgICBpZiAoYXJyLmxlbmd0aCA+IGkgKyAxKSB7XG4gICAgICAgICAgICBsZXQgczIgPSBhcnJbaSArIDFdO1xuICAgICAgICAgICAgaWYgKGFycltpXSA9PT0gXCIoXCIpIHtcbiAgICAgICAgICAgICAgICBlbnRlciA9IDM7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHMyLmluZGV4T2YoXCIoXCIpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGVudGVyID0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRlciAhPT0gMykge1xuICAgICAgICAgICAgaWYgKGVudGVyID09PSAyKSB7XG4gICAgICAgICAgICAgICAgYXJyMi5wdXNoKGFycltpXSArIFwiKFwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXJyMi5wdXNoKGFycltpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHJldHVybiBhcnIyO1xufTtcblxuY29uc3QgY3V0dGluZzIgPSAoc3RyKSA9PiB7XG4gICAgbGV0IGFyciA9IHN0ci5zcGxpdCgvKFsoLVxcLywr77yMKlxccz1eJl0pLyk7XG5cbiAgICBsZXQgY29sb3IgPSAwO1xuICAgIGxldCBleHByZXNzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFycltpXSkge1xuICAgICAgICAgICAgZXhwcmVzcy5wdXNoKGFycltpXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgY29sb3JzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBleHByZXNzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBzID0gZXhwcmVzc1tpXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBsZXQgZW50ZXIgPSB0cnVlO1xuICAgICAgICBpZiAoZXhwcmVzcy5sZW5ndGggPiBpICsgMSkge1xuICAgICAgICAgICAgbGV0IHMyID0gZXhwcmVzc1tpICsgMV07XG4gICAgICAgICAgICBpZiAoczIuaW5kZXhPZihcIihcIikgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgZW50ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgocy5zZWFyY2goL15bQS1aXStcXGQrJC8pICE9PSAtMVxuICAgICAgICAgICAgICAgIHx8IHMuc2VhcmNoKC9eXFwkW0EtWl0rXFwkXFxkKyQvKSAhPT0gLTFcbiAgICAgICAgICAgICAgICB8fCBzLnNlYXJjaCgvXltBLVpdK1xcJFxcZCskLykgIT09IC0xIHx8IHMuc2VhcmNoKC9eXFwkW0EtWl0rXFxkKyQvKSAhPT0gLTFcbiAgICAgICAgICAgICAgICB8fCBzLnNlYXJjaCgvXltBLVphLXpdK1xcZCs6W0EtWmEtel0rXFxkKyQvKSAhPT0gLTEpICYmIGVudGVyKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpMiA9IDA7IGkyIDwgZXhwcmVzc1tpXS5sZW5ndGg7IGkyKyspXG4gICAgICAgICAgICAgICAgY29sb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBcImNvZGVcIjogY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIFwiZGF0YVwiOiBleHByZXNzW2ldW2kyXSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbG9yID0gY29sb3IgKyAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHNjID0gcy5yZXBsYWNlKC9cXCQvZywgXCJcIik7XG4gICAgICAgICAgICBpZiAoc2Muc2VhcmNoKC9eW0EtWmEtel0rXFxkKzpbQS1aYS16XStcXGQrJC8pICE9PSAtMSAmJiBlbnRlcikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkyID0gMDsgaTIgPCBleHByZXNzW2ldLmxlbmd0aDsgaTIrKylcbiAgICAgICAgICAgICAgICAgICAgY29sb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2RlXCI6IGNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRhXCI6IGV4cHJlc3NbaV1baTJdLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb2xvciA9IGNvbG9yICsgMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IGV4cHJlc3NbaV0ubGVuZ3RoOyBpMisrKVxuICAgICAgICAgICAgICAgICAgICBjb2xvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImNvZGVcIjogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRhdGFcIjogZXhwcmVzc1tpXVtpMl0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICByZXR1cm4gY29sb3JzO1xufTtcblxuXG5mdW5jdGlvbiBkZWVwQ29weShvYmopIHtcbiAgICBsZXQgcmVzdWx0ID0gQXJyYXkuaXNBcnJheShvYmopID8gW10gOiB7fTtcbiAgICBmb3IgKGxldCBrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmpba2V5XSA9PT0gJ29iamVjdCcgJiYgb2JqW2tleV0gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IGRlZXBDb3B5KG9ialtrZXldKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQge1xuICAgIG9wZXJhdG9yLFxuICAgIG9wZXJhdGlvbixcbiAgICBjdXRTdHIsXG4gICAgY3V0dGluZyxcbiAgICBjdXR0aW5nMixcbiAgICBpc0Fic29sdXRlVmFsdWUsXG4gICAgY3V0dGluZ0J5UG9zLFxuICAgIGN1dEZpcnN0LFxuICAgIG9wZXJhdGlvbjMsXG4gICAgY3V0dGluZ0J5UG9zRW5kLFxuICAgIGNoYW5nZUZvcm11bGEsXG4gICAgdmFsdWUyYWJzb2x1dGUsXG4gICAgc3BsaXRTdHIsXG4gICAgaXNTaGVldFZhbGUsXG4gICAgY3V0dGluZ0J5UG9zRW5kMixcbiAgICBjdXR0aW5nQnlQb3MyLFxuICAgIHBvc2l0aW9uQW5nbGUsXG4gICAgZGVlcENvcHksXG59XG4iXSwic291cmNlUm9vdCI6IiJ9